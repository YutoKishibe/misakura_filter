function misakura_filterOn(){try{if(location.href.indexOf('mail.google.com/mail/#')==-1){if(location.href.indexOf('mail.google.com/mail/?')==-1){
if(location.href.indexOf('twitter.com')==-1){misakuraCV();}
if(location.href.indexOf('wiki') > -1){ikapedia();}

if(location.href.indexOf('twitter.com') > -1){misakuraCVtw();}

function misakuraCVtw(){

    $('.js-tweet-text').each(function(){
    

        var txt = $(this).html();

        $(this).html(

txt
			.replace(/(気持|きも)ちいい/g,'ぎも゛ぢい゛い゛ぃ')
			.replace(/(大好|だいす)き/g,'らいしゅきいぃっ')
			.replace(/(ミルク|みるく|牛乳)/g,'ちんぽミルク')
			.replace(/お(願|ねが)い/g,'お願いぃぃぃっっっﾞ')
			.replace(/ぁ/g,'ぁぁ゛ぁ゛')
			.replace(/あ/g,'ぁあああ あぉ')
			.replace(/お/g,'おﾞぉおォおん')
			.replace(/ごきげんよう/,'ごきげんよぉおお！んおっ！んおおーーっ！ ')
			.replace(/ごきげんよう/g,'ごきげんみゃぁあ゛あ゛ぁ゛ぁぁあ！！')
			.replace(/こん(にち|ばん)[はわ]/g,'こん$1みゃぁあ゛あ゛ぁ゛ぁぁあ！！')
			.replace(/えて/g,'えてへぇええぇﾞ')
			.replace(/する/g,'するの')
			.replace(/します/g,'するの')
			.replace(/精液/g,'せーしっせーし でりゅぅ でちゃいましゅ みるく ちんぽみるく ふたなりみるく')
			.replace(/射精/g,'でちゃうっ れちゃうよぉおおﾞ')
			.replace(/(馬鹿|バカ|ばか)/g,'バカ！バカ！まんこ!!')
			.replace(/いい/g,'いぃぃっよぉおおﾞ')
			.replace(/[好す]き/g,'ちゅき')
			.replace(/して/g,'してぇぇぇぇ゛')
			.replace(/行く/g,'んはっ イっぐぅぅぅふうぅ')
			.replace(/いく/g,'イっくぅぅふぅん')
			.replace(/イク/g,'イッちゃううぅん')
			.replace(/駄目/g,'らめにゃのぉぉぉ゛')
			.replace(/ダメ/g,'んぉほぉぉォォ　らめぇ')
			.replace(/だめ/g,'らめぇぇ')
			.replace(/ちゃん/g,'ちゃぁん')
			.replace(/(おい|美味)しい/g,'$1ひぃ…れしゅぅ')
			.replace(/(た|る|ない)([。、　 ・…!?！？」\n\r\x00])/g,'$1の$2')
			.replace(/さい([。、　 ・…!?！？」\n\r\x00])/g,'さいなの$1')
			.replace(/よ([。、　 ・…!?！？」\n\r\x00])/g,'よお゛お゛お゛ぉ$1')
			.replace(/もう/g,'んもぉ゛お゛お゛ぉぉ')
			.replace(/(い|入)れて/g,'いれてえぇぇぇえ')
			.replace(/(気持|きも)ちいい/g,'きも゛ぢい゛～っ')
			.replace(/(がんば|頑張)る/g,'尻穴ちんぽしごき$1るぅ!!!')
			.replace(/出る/g,'でちゃうっ れちゃうよぉおおﾞ')
			.replace(/でる/g,'でっ…でるぅでるうぅうぅ')
			.replace(/です/g,'れしゅぅぅぅ')
			.replace(/ます/g,'ましゅぅぅぅ')
			.replace(/はい/g,'はひぃ')
			.replace(/スゴイ/g,'スゴぉッ!!')
			.replace(/(すご|凄)い/g,'しゅごいのょぉぉぅ')
			.replace(/だ/g,'ら')
			.replace(/さ/g,'しゃ')
			.replace(/な/g,'にゃ')
			.replace(/つ/g,'ちゅ')
			.replace(/ちゃ/g,'ひゃ')
			.replace(/じゃ/g,'に゛ゃ')
			.replace(/ほ/g,'ほお゛お゛っ')
			.replace(/で/g,'れ')
			.replace(/す/g,'しゅ')
			.replace(/ざ/g,'じゃ')
			.replace(/い/g,'いぃ')
			.replace(/の/g,'のぉおお')

        );
        
    });

};


function misakuraCV(){
if(location.href.indexOf('twitter.com')==-1){
document.body.innerHTML=document.body.innerHTML
			.replace(/(気持|きも)ちいい/g,'ぎも゛ぢい゛い゛ぃ')
			.replace(/(大好|だいす)き/g,'らいしゅきいぃっ')
			.replace(/(ミルク|みるく|牛乳)/g,'ちんぽミルク')
			.replace(/お(願|ねが)い/g,'お願いぃぃぃっっっﾞ')
			.replace(/ぁ/g,'ぁぁ゛ぁ゛')
			.replace(/あ/g,'ぁあああ あぉ')
			.replace(/お/g,'おﾞぉおォおん')
			.replace(/ごきげんよう/,'ごきげんよぉおお！んおっ！んおおーーっ！ ')
			.replace(/ごきげんよう/g,'ごきげんみゃぁあ゛あ゛ぁ゛ぁぁあ！！')
			.replace(/こん(にち|ばん)[はわ]/g,'こん$1みゃぁあ゛あ゛ぁ゛ぁぁあ！！')
			.replace(/えて/g,'えてへぇええぇﾞ')
			.replace(/する/g,'するの')
			.replace(/します/g,'するの')
			.replace(/精液/g,'せーしっせーし でりゅぅ でちゃいましゅ みるく ちんぽみるく ふたなりみるく')
			.replace(/射精/g,'でちゃうっ れちゃうよぉおおﾞ')
			.replace(/(馬鹿|バカ|ばか)/g,'バカ！バカ！まんこ!!')
			.replace(/いい/g,'いぃぃっよぉおおﾞ')
			.replace(/[好す]き/g,'ちゅき')
			.replace(/して/g,'してぇぇぇぇ゛')
			.replace(/行く/g,'んはっ イっぐぅぅぅふうぅ')
			.replace(/いく/g,'イっくぅぅふぅん')
			.replace(/イク/g,'イッちゃううぅん')
			.replace(/駄目/g,'らめにゃのぉぉぉ゛')
			.replace(/ダメ/g,'んぉほぉぉォォ　らめぇ')
			.replace(/だめ/g,'らめぇぇ')
			.replace(/ちゃん/g,'ちゃぁん')
			.replace(/(おい|美味)しい/g,'$1ひぃ…れしゅぅ')
			.replace(/(た|る|ない)([。、　 ・…!?！？」\n\r\x00])/g,'$1の$2')
			.replace(/さい([。、　 ・…!?！？」\n\r\x00])/g,'さいなの$1')
			.replace(/よ([。、　 ・…!?！？」\n\r\x00])/g,'よお゛お゛お゛ぉ$1')
			.replace(/もう/g,'んもぉ゛お゛お゛ぉぉ')
			.replace(/(い|入)れて/g,'いれてえぇぇぇえ')
			.replace(/(気持|きも)ちいい/g,'きも゛ぢい゛～っ')
			.replace(/(がんば|頑張)る/g,'尻穴ちんぽしごき$1るぅ!!!')
			.replace(/出る/g,'でちゃうっ れちゃうよぉおおﾞ')
			.replace(/でる/g,'でっ…でるぅでるうぅうぅ')
			.replace(/です/g,'れしゅぅぅぅ')
			.replace(/ます/g,'ましゅぅぅぅ')
			.replace(/はい/g,'はひぃ')
			.replace(/スゴイ/g,'スゴぉッ!!')
			.replace(/(すご|凄)い/g,'しゅごいのょぉぉぅ')
			.replace(/だ/g,'ら')
			.replace(/さ/g,'しゃ')
			.replace(/な/g,'にゃ')
			.replace(/つ/g,'ちゅ')
			.replace(/ちゃ/g,'ひゃ')
			.replace(/じゃ/g,'に゛ゃ')
			.replace(/ほ/g,'ほお゛お゛っ')
			.replace(/で/g,'れ')
			.replace(/す/g,'しゅ')
			.replace(/ざ/g,'じゃ')
			.replace(/い/g,'いぃ')
			.replace(/の/g,'のぉおお')

}};

var input_lock;
var myFlg = new Object();
var stm;
$(document).ready( function() {
	//input_num = $("input").size();
	pass_num = $("input:password").size();
	if(pass_num >=1){
		$("input").click(function(){
			//alert("input");
			input_lock = true;
		});
	}
});

if( (input_lock == true) || (location.href.indexOf('twitter') > -1)  ){
function oDc(e)
{
try
{
stm = 2500;
if(location.href.indexOf('twitter') > -1){stm = 5000;}
if((typeof (e) == "object") && (e != null))
{
if(typeof (e.Dol) == "undefined"){
e.Dol = e.innerHTML;}
setTimeout(function ()
{
oDc(e);
}, stm);
if(e.Dol != e.innerHTML){
e.Dol = e.innerHTML;
e.onchange();}}}
catch (e){}};
document.body.onchange = function (){
if(myFlg.name != "rame"){
misakuraCV();
myFlg.name = "rame";}
document.body.onclick = function (){
if(window.event.srcElement.type.indexOf('text') > -1){this.select();}
if((location.href.indexOf('nicovideo')==-1)&&(location.href.indexOf('himado')==-1)&&(location.href.indexOf('say-move')==-1)){
misakuraCV();
misakuraCVtw();
if((myFlg.name =="rame")&&(location.href.indexOf('www.google.co.jp')==-1)&&(location.href.indexOf('www.yahoo.co.jp')==-1)){
myFlg.name = "ahe";}}}
if(location.href.indexOf('twitter') > -1){misakuraCVtw();}
refresh();
window.stop();}
oDc(document.body);}
}}}
catch(e){document.write("このぉおおページは変換れきにゃいぃのぉおお")}}
function misakura_filterOff(){}
chrome.extension.onRequest.addListener(
function(request,sender,sendResponse){
if(request.misakura_filter=='on')misakura_filterOn();
else misakura_filterOff();sendResponse({})
});
chrome.extension.sendRequest({misakura_filter:"now"},
function(response){
if(response.misakura_filter)misakura_filterOn()});
